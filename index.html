<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUD UI è®¾è®¡ä¸“å®¶å·¥å…·</title>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --card-bg: #ffffff;
            --text-main: #1d1d1f;
            --text-dim: #86868b;
            --blue: #007AFF;
            --purple: #5856D6;
            --green: #34C759;
            --orange: #FF9500;
            --border-radius: 16px;
        }

        body { 
            font-family: -apple-system, "SF Pro Text", sans-serif; 
            background: var(--bg-color); color: var(--text-main);
            margin: 0; padding: 20px;
            display: flex; justify-content: center;
            -webkit-font-smoothing: antialiased;
        }

        .container { 
            width: 100%; max-width: 1400px; 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 15px; 
            align-items: stretch;
        }

        .card { 
            background: var(--card-bg); padding: 20px; 
            border-radius: var(--border-radius); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            display: flex; 
            flex-direction: column;
            border-top: 6px solid #ccc;
        }

        .card-project { border-top-color: var(--orange); }
        .card-hw { border-top-color: var(--blue); }
        .card-forward { border-top-color: var(--purple); }
        .card-backward { border-top-color: var(--green); }

        h2 { margin: 0 0 15px 0; font-size: 1rem; font-weight: 600; display: flex; align-items: center; }
        .icon { margin-right: 8px; font-style: normal; }

        .content-area { flex-grow: 1; display: flex; flex-direction: column; }

        .group { margin-bottom: 12px; }
        label { display: block; font-size: 0.75rem; color: var(--text-dim); margin-bottom: 5px; font-weight: 500; }
        
        input { 
            width: 100%; padding: 10px; 
            background: #f5f5f7; border: 1px solid transparent; 
            border-radius: 8px; color: var(--text-main); font-size: 0.95rem; 
            box-sizing: border-box; transition: 0.2s;
        }
        input:focus { background: #fff; border-color: #ddd; outline: none; box-shadow: 0 0 0 3px rgba(0,0,0,0.05); }

        .result-panel { 
            margin-top: 15px; padding: 15px; border-radius: 10px; text-align: center;
            min-height: 80px; display: flex; flex-direction: column; justify-content: center;
        }
        .blue-bg { background: rgba(0, 122, 255, 0.05); color: var(--blue); }
        .purple-bg { background: rgba(88, 86, 214, 0.05); color: var(--purple); }
        .green-bg { background: rgba(52, 199, 89, 0.05); color: var(--green); }

        .val-large { font-size: 1.8rem; font-weight: 700; margin: 2px 0; font-variant-numeric: tabular-nums; }
        .unit { font-size: 0.8rem; font-weight: 400; opacity: 0.8; }

        .std-list { margin-top: 10px; font-size: 0.75rem; border-top: 1px solid #f0f0f2; padding-top: 10px; }
        .std-item { display: flex; justify-content: space-between; margin-bottom: 6px; cursor: pointer; padding: 6px; border-radius: 6px; border: 1px solid transparent; transition: 0.2s; }
        .std-item:hover { background: #f5f5f7; border-color: #eee; }
        
        /* è¡¨æ ¼æ ·å¼ä¼˜åŒ– */
        .project-table { width: 100%; border-collapse: collapse; font-size: 0.75rem; cursor: pointer; }
        .project-table tr:hover { background: #f0f7ff; }
        .project-table td, .project-table th { padding: 8px; border-bottom: 1px solid #f0f0f2; text-align: left; }
        .project-table th { color: var(--text-dim); font-weight: 500; }

        @media (max-width: 1200px) { .container { grid-template-columns: repeat(2, 1fr); } }
        @media (max-width: 600px) { .container { grid-template-columns: 1fr; } }

	.app-header {
    	grid-column: 1 / -1; /* è®©æ ‡é¢˜æ¨ªè·¨æ‰€æœ‰åˆ— */
    	padding: 20px 10px 40px 10px;
   	text-align: left;
	}

	.app-header h1 {
    	margin: 0;
    	font-size: 2.5rem;
    	font-weight: 800;
   	letter-spacing: -1px;
    	background: linear-gradient(135deg, var(--text-main) 0%, var(--blue) 100%);
    	-webkit-background-clip: text;
    	-webkit-text-fill-color: transparent;
    	display: flex;
    	align-items: center;
	}

	.app-header p {
    	margin: 10px 0 0 0;
    	color: var(--text-dim);
    	font-size: 1rem;
    	font-weight: 400;
	}

	/* æ–°å¢è‰²å½©æ¢ç®—æ¨¡å—çš„ä¸»è‰²è°ƒ */
	.card-color { border-top-color: #FF2D55; } /* ä½¿ç”¨ç³»ç»Ÿçº¢è‰²/ç²‰è‰²åŒºåˆ† */
	.color-input-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
	.color-preview { height: 30px; border-radius: 6px; margin-top: 8px; border: 1px solid #eee; }
	.y-result-box { background: rgba(255, 45, 85, 0.05); color: #FF2D55; padding: 15px; border-radius: 10px; margin-top: 10px; text-align: center; }
	.diff-val { font-size: 1.8rem; font-weight: 800; }

	@keyframes ghost-float {
	    0% {
	        transform: translate(-50%, -50%) scale(0.3);
	        opacity: 0;
	    }
	    20% {
	        opacity: 1;
	        transform: translate(-50%, -50%) scale(1.2);
	    }
	    100% {
	        /* ä½¿ç”¨æˆ‘ä»¬å®šä¹‰çš„éšæœºå˜é‡ --x å’Œ --y */
	        transform: translate(calc(-50% + var(--x)), calc(-50% + var(--y))) scale(1.5);
	        opacity: 0;
	    }
	}
		
    </style>
</head>
<body>

<div class="container">
	<header class="app-header">
    	<h1>HUD UI å·¥å…·ç®± <span id="ghost-trigger" style="cursor: pointer; user-select: none;">ğŸ‘»</span></h1>
    	<p>è§†åœºè§’ FOV ä¸åƒç´  æ¢ç®—åŠ©æ‰‹</p>
	</header>
    <div class="card card-project">
        <h2><i class="icon">ğŸ“</i> HUD ç¡¬ä»¶è§„æ ¼</h2>
        <div class="content-area">
            <table class="project-table">
                <thead>
                    <tr><th>è½¦å‹</th><th>H-FOV</th><th>æ¨ªå‘åˆ†è¾¨ç‡</th></tr>
                </thead>
                <tbody id="projectList">
                    	<tr onclick="applyHw(12, 1920)"><td>F2 ARHUD</td><td>12Â°</td><td>1920</td></tr>
			<tr onclick="applyHw(10.7, 1800)"><td>F3 ARHUD</td><td>10.7Â°</td><td>1800</td></tr>
			<tr onclick="applyHw(10.7, 1800)"><td>F1L ARHUD</td><td>10.7Â°</td><td>1800</td></tr>
			<tr onclick="applyHw(10.7, 1800)"><td>EHU ARHUD</td><td>10.7Â°</td><td>1800</td></tr>
			<tr onclick="applyHw(12.4, 1920)"><td>X6S ARHUD</td><td>12.4Â°</td><td>1920</td></tr>
			<tr onclick="applyHw(9, 1074)"><td>X1L WHUD</td><td>9Â°</td><td>1074</td></tr>
			<tr onclick="applyHw(9, 730)"><td>EHV WHUD</td><td>9Â°</td><td>730</td></tr>
                    	<tr onclick="applyHw(9, 747)"><td>X4M WHUD</td><td>9Â°</td><td>747</td></tr>
                    	<tr onclick="applyHw(9, 1482)"><td>X6M WHUD</td><td>9Â°</td><td>1482</td></tr>
                    	<tr onclick="applyHw(9, 1245)"><td>SHB WHUD</td><td>9Â°</td><td>1245</td></tr>
                </tbody>
            </table>
            <p style="font-size: 0.7rem; color: var(--text-dim); margin-top: 10px;">* ç‚¹å‡»è½¦å‹è¡Œå¯å¿«é€Ÿåˆ‡æ¢é…ç½®</p>
        </div>
    </div>

    <div class="card card-hw">
        <h2><i class="icon">âš™ï¸</i> 1. å½“å‰å‚æ•°</h2>
        <div class="content-area">
            <div class="group">
                <label>ç¡¬ä»¶ FOV (æ°´å¹³ deg)</label>
                <input type="number" id="hwFov" value="9" step="0.1" oninput="calculateAll()">
            </div>
            <div class="group">
                <label>ç¡¬ä»¶ UI åˆ†è¾¨ç‡ (æ°´å¹³ px)</label>
                <input type="number" id="hwRes" value="1074" oninput="calculateAll()">
            </div>
        </div>
        <div class="result-panel blue-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">åƒç´ å¯†åº¦ PPD</div>
            <div id="ppdOut" class="val-large">119.33</div>
            <div style="font-size: 0.7rem;">Pixels Per Degree</div>
        </div>
    </div>

    <div class="card card-forward">
        <h2><i class="icon">ğŸ“</i> 2. è§†è§’ â” åƒç´ </h2>
        <div class="content-area">
            <div class="group">
                <label>ç›®æ ‡å…ƒç´ è§†è§’ (FOV deg)</label>
                <input type="number" id="targetFov" placeholder="ä¾‹å¦‚: 0.8" step="0.01" oninput="calculateAll()">
            </div>
            <div class="std-list">
                <div class="std-item" onclick="applyFov(0.8)">å…³é”®ä¿¡æ¯ <b>min: 0.8Â°</b></div>
                <div class="std-item" onclick="applyFov(0.5)">ä¸»è¦æ–‡å­— <b>min: 0.5Â°</b></div>
		<div class="std-item" onclick="applyFov(0.2)">æ¬¡è¦æ–‡å­— <b>min: 0.2Â°</b></div>	
                <div class="std-item" onclick="applyFov(0.3)">å›¾å½¢å›¾æ ‡ <b>min: 0.3Â°</b></div>
            </div>
            <div style="margin-top: 10px; padding: 8px; background: #fff7e6; border-radius: 6px; border: 1px solid #ffd591; font-size: 0.65rem; color: #8c8c8c;">
                æç¤ºï¼šå®é™…å»ºè®®åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ  10%~20% ä½™é‡ã€‚ç‚¹å‡»å¯ç›´æ¥è¾“å…¥æœ€å°å€¼ã€‚
            </div>
        </div>
        <div class="result-panel purple-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">å»ºè®®ç»˜åˆ¶å°ºå¯¸</div>
            <div id="pxOut" class="val-large">0 <span class="unit">px</span></div>
        </div>
    </div>

    <div class="card card-backward">
        <h2><i class="icon">ğŸ”</i> 3. åƒç´  â” è§†è§’</h2>
        <div class="content-area">
            <div class="group">
                <label>ç°æœ‰ UI å°ºå¯¸ (px)</label>
                <input type="number" id="inputPx" placeholder="ä¾‹å¦‚: 60" oninput="calculateAll()">
            </div>
            <div style="margin-top: 10px; font-size: 0.7rem; color: var(--text-dim); line-height: 1.4;">
                å°†æ­¤ç»“æœä¸æ¨¡å— 2 çš„æ ‡å‡†å¯¹æ¯”ï¼Œæ ¸æŸ¥è®¾è®¡ç¨¿æ˜¯å¦åˆè§„ã€‚
            </div>
        </div>
        <div class="result-panel green-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">å æ®è§†è§’ FOV</div>
            <div id="fovOut" class="val-large">0.00 <span class="unit">Â°</span></div>
        </div>
    </div>

    <div class="card card-color">
    	<h2><i class="icon">ğŸ¨</i> è‰²å½©äº®åº¦æ ¸æŸ¥ (YUV)</h2>
    	<div class="content-area">
        	<div class="color-input-group">
            		<div class="group">
                		<label>é¢œè‰² 1 (HEX/RGB)</label>
                		<input type="text" id="color1" placeholder="#FFFFFF" oninput="calculateColor()">
                		<div id="preview1" class="color-preview"></div>
            		</div>
            		<div class="group">
                		<label>é¢œè‰² 2 (HEX/RGB)</label>
                		<input type="text" id="color2" placeholder="#000000" oninput="calculateColor()">
                		<div id="preview2" class="color-preview"></div>
            		</div>
        	</div>
        	<div style="font-size: 0.75rem; color: var(--text-dim); line-height: 1.4;">
            		<p>Y1: <span id="y1-val" style="color:var(--text-main); font-weight:bold;">-</span></p>
            		<p>Y2: <span id="y2-val" style="color:var(--text-main); font-weight:bold;">-</span></p>
        	</div>
    	</div>
    	<div class="y-result-box">
        	<div style="font-size: 0.8rem; opacity: 0.8;">äº®åº¦å·® (Î”Y)</div>
        	<div id="y-diff" class="diff-val">0.00</div>
        	<div style="font-size: 0.7rem;">å…¬å¼: Y = 0.299R + 0.587G + 0.114B</div>
   	</div>
     </div>

</div>

<script>
    // åŸºäºä½ ä¸Šä¼ çš„ Excel æ•°æ®å¡«å……è¡¨æ ¼ (ä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¾®è°ƒè¿™äº›å€¼)
    const projects = [
        { name: "F2 ARHUD", fov: 12, res: 1920 },
	{ name: "F3 ARHUD", fov: 10.7, res: 1800 },
	{ name: "F1L ARHUD", fov: 10.7, res: 1800 },
	{ name: "EHU ARHUD", fov: 10.7, res: 1800 },	
	{ name: "X6S ARHUD", fov: 12.4, res: 1920 },
        { name: "X1L WHUD", fov: 9, res: 1074 },
        { name: "EHV WHUD", fov: 9, res: 730 },
	{ name: "X4M WHUD", fov: 9, res: 747 },
	{ name: "X6M WHUD", fov: 9, res: 1482 },
	{ name: "SHB WHUD", fov: 9, res: 1245 },
    ];

    function renderProjects() {
        const html = projects.map(p => `
            <tr onclick="applyHw(${p.fov}, ${p.res})">
                <td>${p.name}</td>
                <td>${p.fov}Â°</td>
                <td>${p.res}</td>
            </tr>
        `).join('');
        document.getElementById('projectList').innerHTML = html;
    }

    function calculateAll() {
        const hwFov = parseFloat(document.getElementById('hwFov').value) || 0;
        const hwRes = parseFloat(document.getElementById('hwRes').value) || 0;
        const targetFov = parseFloat(document.getElementById('targetFov').value) || 0;
        const inputPx = parseFloat(document.getElementById('inputPx').value) || 0;

        if (hwFov > 0 && hwRes > 0) {
            const ppd = hwRes / hwFov;
            document.getElementById('ppdOut').innerText = ppd.toFixed(2);
            const pxRes = Math.round(targetFov * ppd);
            document.getElementById('pxOut').innerHTML = pxRes + ' <span class="unit">px</span>';
            const fovRes = inputPx / ppd;
            document.getElementById('fovOut').innerHTML = fovRes.toFixed(2) + ' <span class="unit">Â°</span>';
        }
    }

    function applyHw(fov, res) {
        document.getElementById('hwFov').value = fov;
        document.getElementById('hwRes').value = res;
        calculateAll();
    }

    function applyFov(val) {
        document.getElementById('targetFov').value = val;
        calculateAll();
    }

    // åˆå§‹åŒ–
    renderProjects();
    calculateAll();

    // è§£æé¢œè‰²è¾“å…¥ä¸º RGB æ•°ç»„
    function parseColor(input) {
    	let r, g, b;
    	input = input.trim();
    
    	// å¤„ç† HEX
    	if (input.startsWith('#')) {
        	const hex = input.replace('#', '');
        	r = parseInt(hex.substring(0, 2), 16);
        	g = parseInt(hex.substring(2, 4), 16);
        	b = parseInt(hex.substring(4, 6), 16);
    	} 
    	// å¤„ç† RGB(a)
    	else if (input.toLowerCase().startsWith('rgb')) {
        	const match = input.match(/\d+/g);
        	if (match) {
            		[r, g, b] = match.map(Number);
        	}
    	}
    
    	if (isNaN(r) || isNaN(g) || isNaN(b)) return null;
    		return { r, g, b };
     }

     function calculateColor() {
    	const c1Input = document.getElementById('color1').value;
    	const c2Input = document.getElementById('color2').value;
    
    	const c1 = parseColor(c1Input);
    	const c2 = parseColor(c2Input);
    
    	let y1 = 0, y2 = 0;

    	if (c1) {
        	y1 = 0.299 * c1.r + 0.587 * c1.g + 0.114 * c1.b;
        	document.getElementById('y1-val').innerText = y1.toFixed(2);
        	document.getElementById('preview1').style.backgroundColor = `rgb(${c1.r},${c1.g},${c1.b})`;
    	}
    
    	if (c2) {
        	y2 = 0.299 * c2.r + 0.587 * c2.g + 0.114 * c2.b;
        	document.getElementById('y2-val').innerText = y2.toFixed(2);
        	document.getElementById('preview2').style.backgroundColor = `rgb(${c2.r},${c2.g},${c2.b})`;
    	}
    
    	if (c1 && c2) {
        	const diff = Math.abs(y1 - y2);
        	document.getElementById('y-diff').innerText = diff.toFixed(2);
    	}
     }
	document.getElementById('ghost-trigger').addEventListener('click', function(e) {
    // è·å– ğŸ¯ å›¾æ ‡åœ¨å±å¹•ä¸Šçš„ä½ç½®
    const rect = this.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;

    const count = 6; // æ¯æ¬¡å–·å°„çš„æ•°é‡
    
    for (let i = 0; i < count; i++) {
        const ghost = document.createElement('div');
        ghost.className = 'ghost-emoji';
        ghost.innerText = 'ğŸ‘»';
        
        // è®¾ç½®åˆå§‹ä½ç½®ä¸ºå›¾æ ‡ä¸­å¿ƒ
        ghost.style.left = centerX + 'px';
        ghost.style.top = centerY + 'px';
        
        // éšæœºå·¦å³åç§»å’Œå‘ä¸Šçš„é«˜åº¦
        const randomX = (Math.random() - 0.5) * 150 + 'px';
        const randomY = - (100 + Math.random() * 100) + 'px'; // å‘ä¸Šé£˜ 100-200px
        
        ghost.style.setProperty('--x', randomX);
        ghost.style.setProperty('--y', randomY);
        
        document.body.appendChild(ghost);
        
        setTimeout(() => {
            ghost.remove();
        }, 1500);
	}
});

</script>

</body>
</html>
