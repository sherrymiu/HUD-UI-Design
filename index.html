<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUD UI è®¾è®¡ä¸“å®¶å·¥å…·</title>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --card-bg: #ffffff;
            --text-main: #1d1d1f;
            --text-dim: #86868b;
            --blue: #007AFF;
            --purple: #5856D6;
            --green: #34C759;
            --border-radius: 16px;
        }

        body { 
            font-family: -apple-system, "SF Pro Text", sans-serif; 
            background: var(--bg-color); color: var(--text-main);
            margin: 0; padding: 20px;
            display: flex; justify-content: center;
            -webkit-font-smoothing: antialiased;
        }

        .container { 
            width: 100%; max-width: 1200px; 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 20px; 
            align-items: stretch;
        }

        .card { 
            background: var(--card-bg); padding: 24px; 
            border-radius: var(--border-radius); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            display: flex; 
            flex-direction: column;
            border-top: 6px solid #ccc;
        }

        .card-hw { border-top-color: var(--blue); }
        .card-forward { border-top-color: var(--purple); }
        .card-backward { border-top-color: var(--green); }

        h2 { margin: 0 0 20px 0; font-size: 1.1rem; font-weight: 600; display: flex; align-items: center; }
        .icon { margin-right: 8px; font-style: normal; }

        .content-area {
            flex-grow: 1; 
            display: flex;
            flex-direction: column;
        }

        .group { margin-bottom: 15px; }
        label { display: block; font-size: 0.8rem; color: var(--text-dim); margin-bottom: 6px; font-weight: 500; }
        
        input { 
            width: 100%; padding: 12px; 
            background: #f5f5f7; border: 1px solid transparent; 
            border-radius: 10px; color: var(--text-main); font-size: 1rem; 
            box-sizing: border-box; transition: 0.2s;
        }
        input:focus { background: #fff; border-color: #ddd; outline: none; box-shadow: 0 0 0 3px rgba(0,0,0,0.05); }

        .result-panel { 
            margin-top: 20px; 
            padding: 20px; 
            border-radius: 12px; 
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .blue-bg { background: rgba(0, 122, 255, 0.05); color: var(--blue); }
        .purple-bg { background: rgba(88, 86, 214, 0.05); color: var(--purple); }
        .green-bg { background: rgba(52, 199, 89, 0.05); color: var(--green); }

        .val-large { font-size: 2.2rem; font-weight: 700; margin: 2px 0; font-variant-numeric: tabular-nums; }
        .unit { font-size: 0.9rem; font-weight: 400; opacity: 0.8; }

        .std-list { margin-top: 15px; font-size: 0.8rem; border-top: 1px solid #f0f0f2; padding-top: 15px; }
        .std-item { display: flex; justify-content: space-between; margin-bottom: 8px; cursor: pointer; padding: 4px; border-radius: 4px; }
        .std-item:hover { background: #f5f5f7; }
        .std-item b { color: var(--text-main); }
        
        /* é’ˆå¯¹æ¨¡å—1é¢„è®¾å€¼çš„é¢œè‰²å¼ºè°ƒ */
        .std-item .hw-val { color: var(--blue); font-weight: 600; }
        /* é’ˆå¯¹æ¨¡å—2é¢„è®¾å€¼çš„é¢œè‰²å¼ºè°ƒ */
        .std-item .fov-val { color: var(--purple); font-weight: 600; }

        @media (max-width: 900px) { 
            .container { grid-template-columns: 1fr; } 
            .result-panel { min-height: auto; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="card card-hw">
        <h2><i class="icon">âš™ï¸</i> 1. HUD ç¡¬ä»¶é…ç½®</h2>
        <div class="content-area">
            <div class="group">
                <label>ç¡¬ä»¶ FOV (æ°´å¹³ deg)</label>
                <input type="number" id="hwFov" value="9" step="0.1" oninput="calculateAll()">
            </div>
            <div class="group">
                <label>ç¡¬ä»¶ UI åˆ†è¾¨ç‡ (æ°´å¹³ px)</label>
                <input type="number" id="hwRes" value="1074" oninput="calculateAll()">
            </div>
            <div class="std-list">
                <div style="color: var(--text-dim); margin-bottom: 8px;">å¸¸ç”¨ç¡¬ä»¶å€¼ (ç‚¹å‡»å¡«å…¥):</div>
                <div class="std-item" onclick="applyHw(12, 1920)">ARHUD <span class="hw-val">12Â° / 1920px</span></div>
                <div class="std-item" onclick="applyHw(9, 1074)">WHUD <span class="hw-val">9Â° / 1074px</span></div>
            </div>
        </div>
        <div class="result-panel blue-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">åƒç´ å¯†åº¦ PPD</div>
            <div id="ppdOut" class="val-large">115.20</div>
            <div style="font-size: 0.7rem;">Pixels Per Degree</div>
        </div>
    </div>

    <div class="card card-forward">
        <h2><i class="icon">ğŸ¨</i> 2. å…ƒç´ è§†è§’ â” åƒç´ </h2>
        <div class="content-area">
            <div class="group">
                <label>ç›®æ ‡å…ƒç´ è§†è§’ (FOV deg)</label>
                <input type="number" id="targetFov" placeholder="ä¾‹å¦‚: 0.8" step="0.01" oninput="calculateAll()">
            </div>
            <div class="std-list">
                <div style="color: var(--text-dim); margin-bottom: 8px;">å¸¸ç”¨æ ‡å‡† (ç‚¹å‡»å¡«å…¥):</div>
                <div class="std-item" onclick="applyFov(0.8)">å…³é”®ä¿¡æ¯ï¼ˆè½¦é€Ÿï¼‰ <b class="fov-val">min: 0.8Â°</b></div>
                <div class="std-item" onclick="applyFov(0.5)">ä¸»è¦æ–‡å­— ï¼ˆå¯¼èˆªä¿¡æ¯ï¼‰<b class="fov-val">min: 0.5Â°</b></div>
                <div class="std-item" onclick="applyFov(0.2)">æ¬¡è¦æ–‡å­— ï¼ˆè·¯åã€è¾…åŠ©æ–‡å­—ï¼‰<b class="fov-val">min: 0.2Â°</b></div>
                <div class="std-item" onclick="applyFov(0.3)">å›¾å½¢/å›¾æ ‡ <b class="fov-val">min: 0.3Â°</b></div>
            </div>
        </div>
        <div style="margin-top: 15px; padding: 10px; background: #fff7e6; border-radius: 8px; border: 1px solid #ffd591;">
            <div style="color: #d46b08; font-size: 0.75rem; font-weight: bold; margin-bottom: 4px;">âš ï¸ è®¾è®¡æç¤º</div>
            <div style="color: #8c8c8c; font-size: 0.7rem; line-height: 1.4;">
                ä¸Šè¿° FOV ä¸ºè¡Œä¸š<b>æœ€å°å¯è¯»æ€§åº•çº¿</b>ã€‚å®é™…è®¾è®¡æ—¶ï¼Œè¯·ç»“åˆ PGU åƒè´¨ã€å¼ºå…‰ç¯å¢ƒåŠæŒ¡é£ç»ç’ƒç•¸å˜æƒ…å†µï¼Œå»ºè®®åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ  10%~20% çš„ä½™é‡ã€‚
            </div>
        </div>
        <div class="result-panel purple-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">å»ºè®®ç»˜åˆ¶å°ºå¯¸</div>
            <div id="pxOut" class="val-large">0 <span class="unit">px</span></div>
        </div>
    </div>

    <div class="card card-backward">
        <h2><i class="icon">ğŸ”</i> 3. åƒç´  â” å…ƒç´ è§†è§’</h2>
        <div class="content-area">
            <div class="group">
                <label>ç°æœ‰ UI å°ºå¯¸ (px)</label>
                <input type="number" id="inputPx" placeholder="ä¾‹å¦‚: 60" oninput="calculateAll()">
            </div>
            <div style="margin-top: 15px; font-size: 0.75rem; color: var(--text-dim); line-height: 1.4;">
                <b>æç¤ºï¼š</b><br>
                å°†æ­¤ç»“æœä¸æ¨¡å— 2 ä¸­çš„æ ‡å‡†å¯¹æ¯”ï¼Œåˆ¤æ–­ç°æœ‰è®¾è®¡æ˜¯å¦ç¬¦åˆå¯è¯»æ€§è¦æ±‚ã€‚
            </div>
        </div>
        <div class="result-panel green-bg">
            <div style="font-size: 0.8rem; opacity: 0.8;">å æ®è§†è§’ FOV</div>
            <div id="fovOut" class="val-large">0.00 <span class="unit">Â°</span></div>
        </div>
    </div>
</div>

<script>
    function calculateAll() {
        const hwFov = parseFloat(document.getElementById('hwFov').value) || 0;
        const hwRes = parseFloat(document.getElementById('hwRes').value) || 0;
        const targetFov = parseFloat(document.getElementById('targetFov').value) || 0;
        const inputPx = parseFloat(document.getElementById('inputPx').value) || 0;

        if (hwFov > 0 && hwRes > 0) {
            const ppd = hwRes / hwFov;
            document.getElementById('ppdOut').innerText = ppd.toFixed(2);

            // æ­£å‘
            const pxRes = Math.round(targetFov * ppd);
            document.getElementById('pxOut').innerHTML = pxRes + ' <span class="unit">px</span>';

            // é€†å‘
            const fovRes = inputPx / ppd;
            document.getElementById('fovOut').innerHTML = fovRes.toFixed(2) + ' <span class="unit">Â°</span>';
        }
    }

    // æ¨¡å— 1 çš„å¡«å…¥å‡½æ•°
    function applyHw(fov, res) {
        document.getElementById('hwFov').value = fov;
        document.getElementById('hwRes').value = res;
        calculateAll();
    }

    // æ¨¡å— 2 çš„å¡«å…¥å‡½æ•°
    function applyFov(val) {
        document.getElementById('targetFov').value = val;
        calculateAll();
    }

    calculateAll();
</script>

</body>
</html>
